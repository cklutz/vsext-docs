var dataService=function(){function e(e,t){var a=n[e];if(a)return void t(a);var i=new XMLHttpRequest;i.open("GET",e,!0),i.setRequestHeader("X-Content-Only","1"),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var a={url:e,content:i.responseText,title:decodeURIComponent(i.getResponseHeader("X-Title")),next:i.getResponseHeader("X-Next"),prev:i.getResponseHeader("X-Prev")};n[e]=a,t(a)}},i.send()}function t(e,t){if(sessionStorage&&sessionStorage[e])return void t(sessionStorage[e]);var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&(t(n.responseText),200===n.status&&sessionStorage&&(sessionStorage[e]=n.responseText))},n.send(null)}var n=[];return{getPage:e,sendXhr:t}}();!function(){function e(){for(var e=c.getElementsByClassName("open"),t=0;t<e.length;t++)e[t].removeAttribute("class");if("/"!==location.pathname){var n=c.getElementsByClassName("active");if(0!==n.length){var a=n[0].parentNode;if(a)do"LI"===a.tagName&&2===a.childElementCount&&(a.className="open",a.removeAttribute("aria-hidden")),a=a.parentNode;while(a&&a.parentNode!==c)}}}function t(e){var t=e.target.getAttribute("href");if("A"===e.target.tagName&&0!==t.indexOf("#"))return location.pathname===t?void e.preventDefault():void(e.target.id===u.id?r(e):e.target.nextElementSibling&&"UL"===e.target.nextElementSibling.tagName?n(e):t.indexOf("://")===-1&&a(e,t))}function n(e){e.preventDefault();var t=e.target.parentNode;if("LI"===t.tagName){t.className=""===t.className?"open":"";for(var n=c.getElementsByClassName("open"),a=0;a<n.length;a++)t!==n[a]&&n[a].removeAttribute("class")}}function a(e,t){e.preventDefault(),e.target.setAttribute("data-spinner","true"),history.pushState("pushed",null,t),o(t,e.target)}function i(){for(var e=c.getElementsByClassName("active"),t=0;t<e.length;t++)e[t].removeAttribute("class");var n=c.querySelector("[href='"+location.pathname+"']");n&&(n.className="active")}function o(t,n){i(),dataService.getPage(t,function(a){m.style.opacity=0,l(a.url),n&&n.removeAttribute("data-spinner"),(u.offsetLeft>0||u.offsetTop>0)&&(u.nextElementSibling.style.visibility="",u.nextElementSibling.nextElementSibling.style.visibility=""),setTimeout(function(){m.innerHTML=a.content,document.title=a.title,setTimeout(function(){var e=t.indexOf("#");if(e>0){var n=document.getElementById(t.substring(e+1));n.scrollIntoView()}},200),g=m.getElementsByTagName("img"),d(),s(a.next,a.prev),m.style.opacity=1,e()},200)})}function r(e){e.preventDefault();var t=e.target.nextElementSibling.nextElementSibling,n=t.style.visibility;t.style.visibility=""===n?"visible":"";var a=e.target.nextElementSibling;a.style.visibility=t.style.visibility}function s(e,t){function n(e,t,n){t?(e=e||a(n,t),e.href=t):e&&e.parentNode.removeChild(e)}function a(e,t){var n=document.createElement("link");return n.rel=e,n.href=t,document.head.appendChild(n)}var i=document.head.querySelector("link[rel=next]"),o=document.head.querySelector("link[rel=prev]");n(i,e,"next"),n(o,t,"prev")}function l(e){var t=!e&&"/"===location.pathname||"/"===e;v.className=t?"":"hide"}function d(){f||(f=!0,setTimeout(function(){for(var e=window.innerHeight||document.documentElement.clientHeight,t=0;t<g.length;t++){var n=g[t],a=n.getBoundingClientRect();if(n.style.opacity=a.top>=-50&&a.bottom<=e?1:0,a.bottom>e)break}f=!1},200))}var c=document.getElementById("nav"),u=document.getElementById("burger"),m=document.getElementsByTagName("main")[0],v=document.getElementById("hero"),g=m.getElementsByTagName("img"),f=!1;document.body.addEventListener("click",t,!1),window.addEventListener("popstate",function(e){"pushed"===e.state?o(location.pathname):console.log(e)}),window.addEventListener("scroll",d,!1),window.addEventListener("load",d,!1)}(),function(){try{if(window.external.msIsSiteMode()){ext=window.external,ext.msSiteModeCreateJumpList("Navigation");for(var e=document.querySelectorAll("#nav > ul > li > a"),t=e.length-1;t>-1;t--){var n=e[t];ext.msSiteModeAddJumpListItem(n.innerHTML,n.href,"/themes/standard/favicon/favicon.ico")}}}catch(e){}}(),function(){function e(e){var t=i.value;return e.preventDefault(),0===t.trim().length?void i.focus():(a||(a=document.createElement("a"),a.setAttribute("aria-hidden","true"),a.innerHTML="Hidden link used by the site search",a.style.display="none",o.parentNode.appendChild(a)),a.href="/search/"+encodeURIComponent(t),void a.click())}function t(){var e=location.pathname;setInterval(function(){location.pathname!==e&&(e=location.pathname,i.value="")},1e3)}function n(e){s.childNodes.length>0||dataService.sendXhr("/views/keywords.cshtml",function(e){for(var t=JSON.parse(e),n=0;n<t.length;n++){var a=t[n],i=document.createElement("option");i.innerHTML=a,s.appendChild(i)}})}var a,i=document.getElementById("q"),o=document.getElementById("searchbutton"),r=document.getElementById("search"),s=document.getElementsByTagName("datalist")[0];r.addEventListener("submit",e,!1),i.addEventListener("focus",n,!1),window.addEventListener("load",t,!1)}();